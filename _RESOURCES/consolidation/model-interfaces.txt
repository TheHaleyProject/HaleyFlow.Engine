public interface ILifeCycleDispatchItem {
    LifeCycleDispatchKind Kind { get; }
    long AckId { get; }
    string AckGuid { get; }
    long ConsumerId { get; }
    int AckStatus { get; }
    int RetryCount { get; }
    DateTime LastRetryUtc { get; }
    ILifeCycleEvent Event { get; }
}

  public interface ILifeCycleEvent {
      LifeCycleEventKind Kind { get; }
      long ConsumerId { get; }
      long InstanceId { get; }
      long DefinitionVersionId { get; }
      string ExternalRef { get; }
      string? RequestId { get; }
      DateTimeOffset OccurredAt { get; }
      string AckGuid { get; }
      bool AckRequired { get; }
      IReadOnlyDictionary<string, object?>? Payload { get; }
  }

   public interface ILifeCycleHookEmission {
     long HookId { get; }
     long StateId { get; }
     bool OnEntry { get; }
     string HookCode { get; }
     string? OnSuccessEvent { get; }
     string? OnFailureEvent { get; }
     DateTimeOffset? NotBefore { get; }
     DateTimeOffset? Deadline { get; }
     IReadOnlyDictionary<string, object?>? Payload { get; } // ephemeral (NOT stored)
 }

  public interface ILifeCycleHookEvent : ILifeCycleEvent {
     long HookId { get; }
     long StateId { get; }
     bool OnEntry { get; }
     string HookCode { get; }
     string? OnSuccessEvent { get; }
     string? OnFailureEvent { get; }
     DateTimeOffset? NotBefore { get; }
     DateTimeOffset? Deadline { get; }
 }

   public interface ILifeCycleTransitionEvent : ILifeCycleEvent {
      long LifeCycleId { get; }
      long FromStateId { get; }
      long ToStateId { get; }
      long EventId { get; }
      int EventCode { get; }
      string EventName { get; }
      IReadOnlyDictionary<string, object?>? PrevStateMeta { get; }
      long? PolicyId { get; }
      string? PolicyHash { get; }
      string? PolicyJson { get; }
  }

   public interface ILifeCycleAckRef {
     long AckId { get; }
     string AckGuid { get; }
 }

